language: python
sudo: false

python:
  - 3.5
  - 3.6

install:
  - pip install pipenv
    # Should we install the dev dependencies as well?
  - pipenv install
    # Tox runs *outside* the virtualenv created by Pipenv?!
    # Maybe this is enough for tox-pipenv to do the right thing?
  - pip install tox==3.0 tox-pipenv

before_script:
  - pipenv run pip freeze

script:
  - pipenv run tox -v

after_success:
  - cd ${TRAVIS_BUILD_DIR}
  - coveralls
  - source .tox/py3/bin/activate; vast -h
